{% extends "base.html" %}
{% block title %}Novels{% endblock %}

{% block content %}

<div class="novels-page">

    <!-- LEFT COLUMN -->
    <div class="novels-column">
        {% for item in novels_data[::2] %}
            {% set novel = item.novel %}
            <a href="{{ url_for('read_novel', novel_id=novel.id) }}" class="novel-card">

                <div class="novel-image">
                    {% if novel.cover %}
                        <img src="{{ url_for('static', filename=novel.cover) }}" alt="{{ novel.title }} Cover">
                    {% else %}
                        <div class="no-cover">No Cover</div>
                    {% endif %}
                </div>

                <div class="novel-info">
                    <h3>{{ novel.title }}</h3>
                    <p>{{ novel.description[:100] }}{% if novel.description|length > 100 %}...{% endif %}</p>
                    <span class="genre">{{ novel.genre }}</span>
                </div>

            </a>
        {% endfor %}
    </div>

    <!-- RIGHT COLUMN -->
    <div class="novels-column">
        {% for item in novels_data[1::2] %}
            {% set novel = item.novel %}
            <a href="{{ url_for('read_novel', novel_id=novel.id) }}" class="novel-card">

                <div class="novel-image">
                    {% if novel.cover %}
                        <img src="{{ url_for('static', filename=novel.cover) }}" alt="{{ novel.title }} Cover">
                    {% else %}
                        <div class="no-cover">No Cover</div>
                    {% endif %}
                </div>

                <div class="novel-info">
                    <h3>{{ novel.title }}</h3>
                    <p>{{ novel.description[:100] }}{% if novel.description|length > 100 %}...{% endif %}</p>
                    <span class="genre">{{ novel.genre }}</span>
                </div>

            </a>
        {% endfor %}
    </div>

</div>

<!-- Pagination -->
<div class="pagination">
    {% if pagination.has_prev %}
        <a href="{{ url_for('novels', page=pagination.prev_num) }}" class="btn">Previous</a>
    {% endif %}

    <span>Page {{ pagination.page }} of {{ pagination.pages }}</span>

    {% if pagination.has_next %}
        <a href="{{ url_for('novels', page=pagination.next_num) }}" class="btn">Next</a>
    {% endif %}
</div>

{% endblock %}
